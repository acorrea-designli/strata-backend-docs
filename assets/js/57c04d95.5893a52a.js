"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[576],{5408:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>c,toc:()=>i});var s=n(4848),r=n(8453);const o={sidebar_position:2},a="User selections",c={id:"docs/Product/set",title:"User selections",description:"To simplify this process, we have a mutation that sets a product to a user and other mutation that sets the input values that the user choose.",source:"@site/docs/docs/Product/set.md",sourceDirName:"docs/Product",slug:"/docs/Product/set",permalink:"/strata-backend-docs/docs/Product/set",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Get Product and inputs",permalink:"/strata-backend-docs/docs/Product/get"}},d={},i=[{value:"Set Product to User",id:"set-product-to-user",level:2},{value:"Set Input Values to User",id:"set-input-values-to-user",level:2}];function u(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"user-selections",children:"User selections"}),"\n",(0,s.jsx)(t.p,{children:"To simplify this process, we have a mutation that sets a product to a user and other mutation that sets the input values that the user choose."}),"\n",(0,s.jsx)(t.h2,{id:"set-product-to-user",children:"Set Product to User"}),"\n",(0,s.jsx)(t.p,{children:"We can set a product to a user with the following mutation."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-graphql",children:"mutation SetUserProduct($data: SetProductInput!) {\r\n  setUserProduct(data: $data) {\r\n    uuid\r\n    createdAt\r\n    updatedAt\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\r\n  "data": {\r\n    "productUUID": "",\r\n    "userUUID": ""\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:"We can add multiple products to a user. But a user can only have one product of each type."})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["This mutation will return the ",(0,s.jsx)(t.code,{children:"UserSelectedProductValue"})," type."]})}),"\n",(0,s.jsx)(t.h2,{id:"set-input-values-to-user",children:"Set Input Values to User"}),"\n",(0,s.jsx)(t.p,{children:"We can set the input values that the user choose with the following mutation."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-graphql",children:"mutation SetUserProductFieldValue($data: SetInputValueInput!) {\r\n  setUserProductFieldValue(data: $data) {\r\n    uuid\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\r\n  "data": {\r\n\t"userSelectedProductUUID": "",\r\n\t"inputValueUUID": ""\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["The backend doesn't check if the registered ",(0,s.jsx)(t.code,{children:"fieldValue"})," amount are the actual amount of the ",(0,s.jsx)(t.code,{children:"fieldType"})," that the product can have.\r\nFor example, if a product has a ",(0,s.jsx)(t.code,{children:"fieldType"})," of ",(0,s.jsx)(t.code,{children:"select"})," and the ",(0,s.jsx)(t.code,{children:"fieldValue"})," amount is 2, the backend will accept it, even if ",(0,s.jsx)(t.code,{children:"select"})," ",(0,s.jsx)(t.code,{children:"fieldType"})," can have 1 ",(0,s.jsx)(t.code,{children:"fieldValue"})," at most."]})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["This mutation will return the ",(0,s.jsx)(t.code,{children:"UserSelectedProductValue"})," type."]})})]})}function l(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var s=n(6540);const r={},o=s.createContext(r);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);